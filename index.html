<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no, viewport-fit=cover">
  <title>Chapter App</title>
  <link rel="stylesheet" href="style.css?v=20260222_1">

  <!-- âœ… Favicon (aus /icons laden) -->
  <link rel="icon" href="/Bulldozer-Cottbus/icons/favicon.ico" sizes="any">
  <link rel="shortcut icon" href="/Bulldozer-Cottbus/icons/favicon.ico">
  <link rel="icon" type="image/png" sizes="32x32" href="/Bulldozer-Cottbus/icons/favicon-32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/Bulldozer-Cottbus/icons/favicon-16.png">

  <!-- âœ… PWA / App (Bulldozer-Cottbus) -->
  <link rel="manifest" href="/Bulldozer-Cottbus/manifest.webmanifest">
  <meta name="theme-color" content="#0f0f0f">

  <!-- âœ… iPhone Homescreen -->
  <link rel="apple-touch-icon" sizes="180x180" href="/Bulldozer-Cottbus/icons/apple-touch-icon-180.png">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-title" content="Bulldozer">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
</head>

<body>

<header id="topBar" class="hidden">
  <span id="rankLabel"></span> |
  <span id="userName"></span> |
  Punkte: <span id="points"></span>
</header>

<div class="container" id="loginScreen">
  <div class="card">
    <h3>Login</h3>
    <input id="email" type="email" placeholder="Email">
    <input id="password" type="password" placeholder="Passwort">
    <button id="loginBtn">Login</button>
    <p id="status"></p>
  </div>
</div>

<div class="container hidden" id="homeScreen">
  <div class="card">

    <button id="debugButton" type="button" onclick="openDebugModal()">BETA 1.0.0</button>

    <button onclick="showScreen('infos')">ğŸ“¢ Infos</button>
    <button onclick="showScreen('rides')">ğŸ Ausfahrten</button>
    <button onclick="showScreen('notes')">ğŸ“ Notizen</button>
    <button onclick="showScreen('tasks')">ğŸ“‹ Aufgaben</button>
    <button id="rpBtn" type="button" onclick="openRPModal()">ğŸ›¡ï¸ R.P</button>

    <!-- âœ… Wichtig: Secretary muss Ã¼ber showSecretaryPanel laufen -->
    <button onclick="showSecretaryPanel()">ğŸ“’ Secretary</button>
    <button onclick="showTreasuryPanel()">ğŸ’° Treasurer</button>

    <button onclick="showScreen('calc')">ğŸ§® Rechner</button>
    <button onclick="showScreen('files')">ğŸ“ Dateien</button>
    <button onclick="logout()">ğŸšª Logout</button>
  </div>
</div>

  <!-- âœ… DEBUG / CHANGELOG MODAL -->
<div id="debugModal" class="modal hidden">
  <div class="modal-backdrop" onclick="closeDebugModal()"></div>

  <div class="modal-card card">
    <h3>ğŸ“Œ Updates / Bug fixes</h3>

    <div id="changelogList" class="card" style="margin-top:10px;">
      Lade...
    </div>

    <!-- âœ… Nur fÃ¼r President/Vice/Sergeant/Admin sichtbar -->
    <div id="changelogAdminBox" class="card hidden" style="margin-top:10px;">
      <h4>â• Neuer Eintrag</h4>

      <select id="changelogType">
        <option value="bugfix">Bug fixes</option>
        <option value="feature">Feature</option>
        <option value="info">Info</option>
      </select>

      <input id="changelogTitle" placeholder="Titel (z.B. Bug fixes â€“ Secretary)">
      <textarea id="changelogText" placeholder="Was wurde geÃ¤ndert / gefixt?"></textarea>

      <button id="addChangelogBtn" type="button">ğŸ’¾ Eintrag speichern</button>
    </div>

    <button type="button" class="gray" onclick="closeDebugModal()">SchlieÃŸen</button>
  </div>
</div>
  
<!-- âœ… INFOS -->
<div class="container hidden" id="infos">
  <div class="card">
    <h3>Infos</h3>

    <!-- optional: nur FÃ¼hrung sieht den Button, wird per JS eingeblendet -->
    <button id="postInfoBtn" type="button">â• Info posten</button>

<!-- âœ… Info Modal -->
<div id="infoModal" class="modal hidden">
  <div class="modal-backdrop" onclick="closeInfoModal()"></div>

  <div class="modal-card card">
    <h3 id="infoModalTitle">Info posten</h3>

    <textarea id="infoModalText" placeholder="Deine Info..."></textarea>

    <label class="field-label" for="infoModalExpiry">Sichtbarkeit</label>
    <select id="infoModalExpiry">
      <option value="24h">Nach 24 Stunden automatisch lÃ¶schen</option>
      <option value="keep">Bleibt bis man sie lÃ¶scht</option>
    </select>

    <div class="row">
      <button type="button" id="infoModalSaveBtn">ğŸ’¾ Speichern</button>
      <button type="button" class="gray" onclick="closeInfoModal()">Abbrechen</button>
    </div>

    <button type="button" class="danger hidden" id="infoModalDeleteBtn">ğŸ—‘ï¸ LÃ¶schen</button>
  </div>
</div>
    
    <!-- âœ… R.P MODAL -->
<div id="rpModal" class="modal hidden">
  <div class="modal-backdrop" onclick="closeRPModal()"></div>

  <div class="modal-card card rp-card">
    <div class="rp-head">
      <img
        class="rp-logo"
        src="/Bulldozer-Cottbus/icons/apple-touch-icon-180.png"
        alt="Bulldozer Logo"
      >
      <div>
        <h3 style="margin:0;">R.P â€“ Reputation Points</h3>
        <div class="readonly-hint" style="margin-top:4px;">
          Leistung â€¢ LoyalitÃ¤t â€¢ ZuverlÃ¤ssigkeit
        </div>
      </div>
    </div>

    <div class="rp-grid">
      <button type="button" onclick="rpOpen('dash')">ğŸ“Š Ãœbersicht</button>
      <button type="button" onclick="rpOpen('earn')">âœ… Verdienste</button>
      <button type="button" onclick="rpOpen('rewards')">ğŸ–ï¸ Privilegien</button>
      <button type="button" onclick="rpOpen('ledger')">ğŸ“œ Verlauf</button>
      <button type="button" onclick="rpOpen('rules')">ğŸ“˜ Regeln</button>
      <button type="button" onclick="rpOpen('requests')">ğŸ“ AntrÃ¤ge</button>
    </div>

    <div id="rpContent" class="card" style="margin-top:10px;">
      Lade...
    </div>

    <button type="button" class="gray" onclick="closeRPModal()">SchlieÃŸen</button>
  </div>
</div>

    <!-- âœ… Warn Info Button + Box -->
    <button type="button" onclick="toggleWarnInfo()">âš ï¸ Warn Info</button>

    <div id="warnInfoBox" class="card hidden" style="margin-top:10px;">
      <h3>ğŸ“œ Rang-, Warn-, Sperren- & Bereinigungsregeln</h3>

      <h4>1) RÃ¤nge & FÃ¼hrerschein</h4>
      <ul>
        <li>RÃ¤nge <b>Ã¼ber â€Memberâ€œ</b> sind nur erlaubt, wenn mindestens <b>ein gÃ¼ltiger FÃ¼hrerschein</b> vorliegt.</li>
        <li><b>Ohne FÃ¼hrerschein</b> ist der hÃ¶chste Rang <b>â€Memberâ€œ</b>.</li>
        <li>Rangaufstiege Ã¼ber â€Memberâ€œ sind bis zum Vorliegen eines FÃ¼hrerscheins <b>ausgeschlossen</b>.</li>
        <li><b>Ausnahmen gibt es nur unter Absprache der FÃ¼hrung.</b></li>
      </ul>

      <h4>2) Warns â€“ Grundlagen</h4>
      <ul>
        <li>Es gibt insgesamt <b>1 bis 4 Warns</b> (aktive Warns).</li>
        <li>Ab <b>2 Warns</b> gilt automatisch:
          <ul>
            <li><b>12 Monate Rangsperre</b></li>
            <li>In dieser Zeit ist <b>kein Rangaufstieg</b> mÃ¶glich</li>
          </ul>
        </li>
        <li>Alle Warns werden <b>intern dokumentiert</b> und bleiben nachvollziehbar vermerkt.</li>
      </ul>

      <h4>3) Warn-Stufen (Kategorien)</h4>

      <div class="card warn-w1">
        <b>ğŸŸ¡ W.S1 â€“ Warnstufe 1 (leicht bis mittel)</b>
        <ul>
          <li>Leichte bis mittlere VerstÃ¶ÃŸe</li>
          <li>Ein einzelner W.S1 fÃ¼hrt <b>niemals</b> direkt zum Ausschluss</li>
          <li>Dient als klare Verwarnung und LernmaÃŸnahme</li>
        </ul>
      </div>

      <div class="card warn-w2">
        <b>ğŸ”´ W.S2 â€“ Warnstufe 2 (schwerwiegend)</b>
        <ul>
          <li>Schwere VerstÃ¶ÃŸe</li>
          <li>Maximal <b>2Ã— im gesamten Clubverlauf</b></li>
          <li>Vergabe nur durch <b>FÃ¼hrung / Abstimmung</b></li>
        </ul>
        <b>Folgen bei W.S2:</b>
        <ul>
          <li><b>1. W.S2:</b> in der Regel Rang-Down auf Hangaround + Neustart</li>
          <li><b>2. W.S2:</b> zwingender Ausschluss aus dem Club</li>
        </ul>
      </div>

      <h4>4) Kombination W.S2 + weiterer Warn (WICHTIG)</h4>
      <ul>
        <li>Nach einem bereits vergebenen W.S2 kann ein weiteres Vergehen (auch W.S1) bereits zum <b>direkten Ausschluss</b> fÃ¼hren.</li>
        <li>Grund: schwere Vorbelastung durch W.S2.</li>
      </ul>

      <h4>5) Folgen nach Anzahl der Warns</h4>
      <ul>
        <li><b>1. Warn:</b> Keine direkte Sanktion, keine RangÃ¤nderung, kein Ausschluss (solange kein W.S2 vorliegt).</li>
        <li><b>2. Warn:</b> Automatische 12-Monats-Rangsperre + je nach Vergehen zusÃ¤tzliche EinschrÃ¤nkungen.</li>
        <li><b>3. Warn:</b> Zwingender Rang-Down (Member oder hÃ¶her â†’ Hangaround) + Neustart erforderlich.</li>
        <li><b>4. Warn:</b> Zwingender Ausschluss, Entscheidung endgÃ¼ltig.</li>
      </ul>

      <h4>6) RÃ¼ckgÃ¤ngigmachung & Bereinigung</h4>
      <ul>
        <li>ÃœberprÃ¼fung/Bereinigung/Erledigt nur durch gemeinsame Zustimmung von: <b>President, Vice President, Sergeant-at-Arms</b>.</li>
        <li><b>W.S1</b> kann nach <b>12 Monaten</b> als erledigt markiert werden (bleibt intern vermerkt, zÃ¤hlt aber nicht mehr aktiv).</li>
        <li><b>W.S1</b> (leichte VerstÃ¶ÃŸe) kann Ã¼ber Clubkasse bereinigt werden (Summe X): bleibt vermerkt, zÃ¤hlt nicht mehr aktiv.</li>
      </ul>

      <b>âŒ Keine Bereinigung bei:</b>
      <ul>
        <li>W.S2</li>
        <li>4. Warn</li>
        <li>bereits ausgesprochenem Ausschluss</li>
      </ul>
    </div>

    <!-- âœ… NEU: Club Regeln Button + Box (RICHTIGE STELLE: vor "Aktuelle Infos") -->
    <button type="button" onclick="toggleClubRules()">ğŸ“˜ Club Regeln</button>

    <div id="clubRulesBox" class="card hidden" style="margin-top:10px;">
      <h3>ğŸ“˜ Bulldozer Regelwerk</h3>
      <p><b>Offizieller GrÃ¼ndungstag:</b> 16.01.2026</p>

      <p>
        Dieses Regelwerk dient der klaren Struktur, dem Schutz der Gemeinschaft und dem respektvollen Umgang
        innerhalb der Gruppierung <b>Bulldozer</b>. Jede Phase und jeder Rang bringt klare Rechte, Pflichten und Grenzen mit sich.
      </p>

      <h4>ğŸ”¹ Supporter</h4>
      <p>Supporter sind keine Mitglieder und werden nicht in den Club aufgenommen.</p>
      <ul>
        <li>Keine Teilnahme an Sitzungen oder Abstimmungen</li>
        <li>Keine Aufnahme-Perspektive (rein unterstÃ¼tzende Rolle)</li>
        <li>Kein Mitspracherecht</li>
        <li>Keine Club-internen Informationen</li>
      </ul>

      <h4>ğŸ”¹ Hangaround</h4>
      <p><b>Dauer:</b> 2 Monate (optional kÃ¼rzer nur unter Absprache)</p>

      <div class="card" style="margin-top:8px;">
        <b>Phase 1 â€“ erste 2 Wochen</b>
        <ul>
          <li>Keine Freitags-Sitzungen</li>
          <li>Keine Clubfahrten</li>
          <li>Reines Kennenlernen und Beobachten</li>
        </ul>
      </div>

      <div class="card" style="margin-top:8px;">
        <b>Phase 2 â€“ restliche 1Â½ Monate</b>
        <ul>
          <li>Teilnahme an Freitags-Sitzungen erlaubt</li>
          <li>Teilnahme an Clubfahrten teilweise erlaubt</li>
          <li><b>Striktes Fotoverbot:</b> keine Fotos, keine Social Media</li>
          <li>Ausnahme: nur intern unter Bulldozer</li>
          <li>Keine Kleidung des Clubs</li>
          <li>Keine Abstimmungen</li>
          <li>
            Befindet sich ein Mitglied eines anderen Clubs auf einem Foto,
            dÃ¼rfen Hangarounds oder Prospects <b>nicht</b> darauf erscheinen.
          </li>
        </ul>
      </div>

      <h4>ğŸ”¹ Prospect</h4>
      <p><b>Dauer:</b> mindestens 6 Monate bis maximal 1 Jahr (frÃ¼here Aufnahme nur unter Absprache der FÃ¼hrung)</p>
      <ul>
        <li>Anwesenheit erlaubt, aber keine Mitbestimmung</li>
        <li><b>Teilnahme an Clubfahrten ist Pflicht</b></li>
        <li>Kein Stimmrecht</li>
        <li>Keine Clubentscheidungen</li>
        <li>Keine vollstÃ¤ndige Clubkleidung</li>
        <li>Kleidung nur nach Absprache</li>
        <li>Erlaubt: â€Bulldozerâ€œ-Schriftzug auf dem RÃ¼cken</li>
        <li>Nicht erlaubt: Logo, Cottbus, Abzeichen</li>
        <li><b>Striktes Fotoverbot</b> (Ausnahme: rein interne Fotos unter Bulldozer)</li>
        <li>Auch als Prospect keine Teilnahme an Abstimmungen</li>
      </ul>

      <h4>ğŸ”¹ Member (Vollmitglied)</h4>
      <p>Mit dem Status Member gilt man als vollwertiges Mitglied der Gruppierung.</p>
      <ul>
        <li>Volles Tragen der Clubkleidung erlaubt</li>
        <li>Weitere Kleidung nach Absprache mÃ¶glich</li>
        <li>Keine Ausgrenzung mehr aus Absprachen</li>
        <li>Mitspracherecht</li>
        <li>Stimmrecht bei Abstimmungen</li>
        <li>Teilnahme an allen Sitzungen, Fahrten und internen Entscheidungen</li>
      </ul>

      <h4>ğŸ”¹ Club-FÃ¼hrung & Ã„mter</h4>
      <p>Die Clubstruktur folgt einer klaren Hierarchie:</p>
      <ul>
        <li><b>President</b> â€“ FÃ¼hrung des Clubs, letzte Entscheidungsinstanz</li>
        <li><b>Vice President</b> â€“ Stellvertreter des President</li>
        <li><b>Secretary</b> â€“ Verwaltung, Protokolle, Organisation</li>
        <li><b>Treasurer</b> â€“ KassenfÃ¼hrung und Finanzen</li>
        <li><b>Sergeant at Arms</b> â€“ Ordnung, Disziplin, Einhaltung der Regeln</li>
        <li><b>Road Captain</b> â€“ Planung und Leitung von Ausfahrten</li>
      </ul>

      <h4>âš–ï¸ GrundsÃ¤tze</h4>
      <ul>
        <li>Respekt gegenÃ¼ber Rang, Phase und Entscheidungen</li>
        <li>Regeln dienen dem Schutz des Clubs</li>
        <li>VerstÃ¶ÃŸe kÃ¶nnen Konsequenzen nach sich ziehen</li>
        <li>Entscheidungen der FÃ¼hrung sind zu akzeptieren</li>
      </ul>
    </div>

    <h3>Aktuelle Infos</h3>
    <div id="infosList"></div>

    <button onclick="backHome()">â¬… ZurÃ¼ck</button>
  </div>
</div>

<!-- âœ… EINZIGER NOTIZEN SCREEN -->
<div class="container hidden" id="notes">
  <div class="card">

    <textarea id="noteText" placeholder="Notiz"></textarea>

    <select id="noteType">
      <option value="privat">Privat</option>
      <option value="club">Club Info</option>
      <option value="wichtig">Wichtig</option>
      <option value="auftrag">Auftrag</option>
    </select>

    <select id="noteTarget">
      <option value="">Nur fÃ¼r mich speichern</option>
    </select>

    <button id="saveNoteBtn">Speichern</button>

    <h3>Meine Notizen</h3>
    <div id="myNotes"></div>

    <button onclick="backHome()">â¬… ZurÃ¼ck</button>
  </div>
</div>

<!-- âœ… RIDES -->
<div class="container hidden" id="rides">
  <div class="card">
    <h3>Ausfahrten</h3>
    <div id="ridesList"></div>

    <textarea id="rideText" placeholder="Neue Ausfahrt"></textarea>

    <select id="ridePriority">
      <option value="1">Locker</option>
      <option value="2">Wichtig</option>
      <option value="3">Pflicht</option>
    </select>

    <button id="createRideBtn" class="hidden">Speichern</button>

    <button onclick="backHome()">â¬… ZurÃ¼ck</button>
  </div>
</div>

<!-- âœ… HELP / HILFE -->
<div class="container hidden" id="help">
  <div class="card">
    <h3>Hilfe</h3>

    <textarea id="helpText" placeholder="Hilfe Anfrage..."></textarea>
    <button type="button" onclick="createHelp()">Senden</button>

    <h3>Anfragen</h3>
    <div id="helpList"></div>

    <button onclick="backHome()">â¬… ZurÃ¼ck</button>
  </div>
</div>

<!-- âœ… TASKS -->
<div class="container hidden" id="tasks">
  <div class="card">
    <h3>Aufgaben</h3>

    <textarea id="taskText" placeholder="Neue Aufgabe"></textarea>

    <select id="taskTarget">
      <option value="">An mich selbst</option>
    </select>

    <button id="createTaskBtn">Speichern</button>

    <h3>Offene Aufgaben</h3>
    <div id="taskList"></div>

    <button onclick="backHome()">â¬… ZurÃ¼ck</button>
  </div>
</div>

<!-- âœ… SECRETARY SCREEN -->
<div class="container hidden" id="secretaryScreen">
  <div class="card">

    <!-- âœ… Neue Button-Leiste (6 Tabs) -->
    <div class="card sec-tabs">
      <button type="button" onclick="secShow('secDashboard')">ğŸ“Š Dashboard</button>
      <button type="button" onclick="secShow('secMember')">ğŸ‘ï¸ Member Akten</button>
      <button type="button" onclick="secShow('secMeetings')">ğŸ—“ï¸ Meetings</button>
      <button type="button" onclick="secShow('secLetters')">âœ‰ï¸ Schriftverkehr</button>
      <button type="button" onclick="secShow('secBylaws')">ğŸ“˜ Statuten</button>
      <button type="button" onclick="secShow('secArchive')">ğŸ—„ï¸ Archiv</button>
    </div>

    <!-- âœ… TAB: Dashboard -->
    <div id="secDashboard" class="hidden">
      <h3>ğŸ“Š Secretary Dashboard</h3>
      <div class="card">
        <div id="secDashTasks">Offene Tasks: ...</div>
        <div id="secDashMeetings">Offene Meetings: ...</div>
        <div id="secDashWarnings">Aktive Warns: ...</div>
        <div id="secDashLetters">EntwÃ¼rfe: ...</div>
        <div id="secDashArchive">Archiv EintrÃ¤ge: ...</div>
      </div>
      <button type="button" id="secDashRefreshBtn">ğŸ”„ Aktualisieren</button>
    </div>

    <!-- âœ… TAB: Member Akten -->
    <div id="secMember" class="hidden">
      <h3>Member Beobachtung</h3>

      <!-- âœ… Suche / Filter -->
      <input id="secSearch" placeholder="ğŸ” Suche (Name, Status, Warn...)">
      <select id="secFilterStatus">
        <option value="">Alle Status</option>
        <option value="supporter">Supporter</option>
        <option value="hangaround">Hangaround</option>
        <option value="prospect">Prospect</option>
        <option value="member">Member</option>
      </select>

      <h4>Stammdaten</h4>
      <input id="secName" placeholder="Name">

      <label class="field-label" for="secJoinDate">Mitglied seit</label>
      <input id="secJoinDate" type="date">

      <!-- âœ… NUR NOCH EIN STATUS-DROPDOWN (StartRank fliegt raus) -->
      <label class="field-label" for="secStatus">Status</label>
      <select id="secStatus">
        <option value="supporter">Supporter</option>
        <option value="hangaround">Hangaround</option>
        <option value="prospect">Prospect</option>
        <option value="member" selected>Member</option>
      </select>

      <h4>FÃ¼hrerschein</h4>
      <label class="checkline" for="secLicense">
        <input type="checkbox" id="secLicense">
        FÃ¼hrerschein vorhanden
      </label>

      <!-- âœ… NUR 1Ã— DATUM -->
      <label class="field-label" for="secLicenseDate">FÃ¼hrerschein geprÃ¼ft am (optional)</label>
      <input id="secLicenseDate" type="date">

      <h4>Warnstufen</h4>
      <div class="warn-checks">
        <label class="checkline small" for="warn1">
          <input type="checkbox" id="warn1"> W.1
        </label>
        <label class="checkline small" for="warn2">
          <input type="checkbox" id="warn2"> W.2
        </label>
      </div>

      <textarea id="warnText" placeholder="Warn Details"></textarea>

      <h4>Herkunft</h4>
      <input id="secSponsor" placeholder="Vorgestellt von">

      <label class="checkline" for="selfJoined">
        <input type="checkbox" id="selfJoined">
        Selbst zum Club gekommen
      </label>

      <textarea id="secNotes" placeholder="Notizen"></textarea>
      <button type="button" id="saveMemberObservation">Speichern</button>

      <h3>EintrÃ¤ge</h3>
      <div id="secEntries"></div>

      <h3>Akte</h3>
      <div id="secDetail"></div>

      <h3>Timeline Eintrag</h3>
      <input id="timelineDate" type="date">
      <input id="timelineRank" placeholder="Rang / Ereignis">
      <textarea id="timelineText" placeholder="Was ist passiert?"></textarea>
      <button type="button" id="addTimelineEntry">Eintrag speichern</button>
    </div>

    <!-- âœ… TAB: Meetings -->
    <div id="secMeetings" class="hidden">
      <h3>Besprechungsverlauf</h3>

      <!-- âœ… Suche / Filter -->
      <input id="meetSearch" placeholder="ğŸ” Suche (Titel, Agenda, Personen...)">
      <select id="meetFilterStatus">
        <option value="">Alle</option>
        <option value="open">Nur offen</option>
        <option value="done">Nur erledigt</option>
      </select>

      <input id="meetDate" type="date">
      <input id="meetTitle" placeholder="Welche Besprechung / Titel (z.B. Monatsmeeting, Vorstand, auÃŸerplanmÃ¤ÃŸig)">

      <textarea id="meetAgenda" placeholder="Themen / Tagesordnung"></textarea>
      <textarea id="meetNotes" placeholder="Protokoll: Was wurde besprochen?"></textarea>

      <h4>Abstimmung</h4>
      <input id="voteTopic" placeholder="Worum geht die Abstimmung?">
      <input id="voteOptions" placeholder="Optionen (z.B. Ja/Nein oder A,B,C)">
      <input id="voteResult" placeholder="Ergebnis (z.B. 7 Ja / 2 Nein / 1 Enthaltung)">

      <!-- âœ… Votes erfassen -->
      <button type="button" id="buildVoteBoxBtn">ğŸ—³ï¸ Stimmen erfassen (aus Teilnehmern)</button>
      <div id="voteBox"></div>

      <h4>Betroffene Person(en)</h4>
      <input id="meetPersons" placeholder="Namen (kommagetrennt)">

      <h4>Teilnehmer / Anwesenheit</h4>

      <div class="card">
        <b>Anwesend</b>
        <div id="meetAttendanceBox" class="picklist"></div>
      </div>

      <div class="card">
        <b>Abwesend (entschuldigt)</b>
        <div id="meetAbsentExcusedBox" class="picklist"></div>
      </div>

      <div class="card">
        <b>Abwesend (unentschuldigt)</b>
        <div id="meetAbsentUnexcusedBox" class="picklist"></div>
      </div>

      <!-- optionaler Text (wird automatisch gefÃ¼llt) -->
      <input id="meetAttendees" placeholder="Auto: Teilnehmer (Text)" readonly>

      <h4>Follow-ups / Aufgaben</h4>
      <textarea id="meetFollowups" placeholder="Was ist als nÃ¤chstes zu tun? Wer macht was?"></textarea>

      <!-- âœ… Action-Items -->
      <h4>âœ… Action-Items (werden zu Tasks)</h4>
      <div id="meetActionsList"></div>
      <button type="button" id="addMeetingActionBtn">+ Action hinzufÃ¼gen</button>

      <select id="meetStatus">
        <option value="open">Offen</option>
        <option value="done">Erledigt</option>
      </select>

      <button type="button" id="saveMeetingBtn">Besprechung speichern</button>

      <h3>Protokolle</h3>
      <div id="meetingList"></div>
    </div>

    <!-- âœ… TAB: Schriftverkehr -->
    <div id="secLetters" class="hidden">
      <h3>âœ‰ï¸ Schriftverkehr</h3>

      <select id="letterTemplate">
        <option value="">Vorlage wÃ¤hlen (optional)</option>
        <option value="invite">Einladung</option>
        <option value="warning">Warnung</option>
        <option value="confirm">BestÃ¤tigung</option>
        <option value="reply">Antwort</option>
      </select>

      <input id="letterTo" placeholder="EmpfÃ¤nger (Name/Club/Organisation)">
      <input id="letterSubject" placeholder="Betreff">
      <textarea id="letterBody" placeholder="Text..."></textarea>

      <select id="letterStatus">
        <option value="draft">Entwurf</option>
        <option value="sent">Gesendet (dokumentiert)</option>
        <option value="archived">Archiviert</option>
      </select>

      <button type="button" id="saveLetterBtn">ğŸ’¾ Speichern</button>
      <button type="button" id="resetLetterBtn">ğŸ§¹ Neu</button>

      <h3>Outbox</h3>
      <input id="letterSearch" placeholder="ğŸ” Suche">
      <select id="letterFilter">
        <option value="">Alle</option>
        <option value="draft">EntwÃ¼rfe</option>
        <option value="sent">Gesendet</option>
        <option value="archived">Archiv</option>
      </select>
      <div id="lettersList"></div>
    </div>

    <!-- âœ… TAB: Statuten / Bylaws -->
    <div id="secBylaws" class="hidden">
      <h3>ğŸ“˜ Statuten / Bylaws</h3>

      <div class="card">
        <b>Aktive Version</b>
        <div id="bylawsActiveInfo">Lade...</div>
      </div>

      <input id="bylawsTitle" placeholder="Titel (z.B. Bylaws v3)">
      <textarea id="bylawsText" placeholder="Text der Statuten..."></textarea>
      <textarea id="bylawsReason" placeholder="Ã„nderungsgrund / Changelog..."></textarea>

      <button type="button" id="createBylawsBtn">â• Neue Version speichern & aktiv setzen</button>

      <h3>Versionen</h3>
      <div id="bylawsList"></div>
    </div>

    <!-- âœ… TAB: Archiv -->
    <div id="secArchive" class="hidden">
      <h3>ğŸ—„ï¸ Archiv</h3>

      <input id="archTitle" placeholder="Titel">
      <select id="archCategory">
        <option value="meeting">Meeting</option>
        <option value="member">Member</option>
        <option value="letter">Letter</option>
        <option value="rule">Regel/Statut</option>
        <option value="other">Sonstiges</option>
      </select>
      <input id="archTags" placeholder="Tags (kommagetrennt)">
      <input id="archUrl" placeholder="Link (z.B. Google Drive / Foto / Datei URL)">

      <label style="display:block;margin-top:6px;">
        <input type="checkbox" id="archLinkMember">
        Mit aktueller Member-Akte verknÃ¼pfen
      </label>

      <label style="display:block;margin-top:6px;">
        <input type="checkbox" id="archLinkMeeting">
        Mit aktuellem Meeting (Bearbeiten-Modus) verknÃ¼pfen
      </label>

      <button type="button" id="saveArchiveBtn">ğŸ’¾ Archiv-Eintrag speichern</button>

      <h3>EintrÃ¤ge</h3>
      <input id="archiveSearch" placeholder="ğŸ” Suche">
      <select id="archiveFilter">
        <option value="">Alle Kategorien</option>
        <option value="meeting">Meeting</option>
        <option value="member">Member</option>
        <option value="letter">Letter</option>
        <option value="rule">Regel/Statut</option>
        <option value="other">Sonstiges</option>
      </select>

      <div id="archiveList"></div>
    </div>

    <button type="button" onclick="backHome()">â¬… ZurÃ¼ck</button>
  </div>
</div>

  <!-- âœ… TREASURY SCREEN -->
<div class="container hidden" id="treasuryScreen">
  <div class="card">

    <!-- âœ… Tabs (3 StÃ¼ck) -->
    <div class="card sec-tabs">
      <button type="button" onclick="treasShow('treasDashboard')">ğŸ“Š Dashboard</button>
      <button type="button" onclick="treasShow('treasClub')">ğŸ’¼ Clubkasse</button>
      <button type="button" onclick="treasShow('treasMembers')">ğŸ‘¤ Member Kasse</button>
    </div>

    <!-- âœ… TAB: Dashboard -->
    <div id="treasDashboard" class="hidden">
      <h3>ğŸ“Š Treasurer Dashboard</h3>

      <div class="card">
        <div id="treasDashLatest">Letzter Monat: ...</div>
        <div id="treasDashSollIst">Clubkasse Soll/Ist: ...</div>
        <div id="treasDashMembers">Member-Akten: ...</div>
        <div id="treasDashOpenCount">Offene Zahler (Monat): ...</div>
      </div>

      <button type="button" id="treasDashRefreshBtn">ğŸ”„ Aktualisieren</button>
      <div class="readonly-hint" id="treasReadHint"></div>

      <div class="card">
        <h4>ğŸ“„ Church / Treffen â€“ Finanzbericht</h4>
        <div class="readonly-hint">WÃ¤hle im Tab â€Clubkasseâ€œ einen Monat â†’ dann kannst du hier den Bericht generieren.</div>
        <button type="button" id="treasChurchBtn">ğŸ“„ Bericht erzeugen (aus Monat)</button>
        <button type="button" id="treasChurchCopyBtn" class="gray">ğŸ“‹ Kopieren</button>
        <textarea id="treasChurchText" class="mono" placeholder="Bericht erscheint hier..." readonly></textarea>
      </div>
    </div>

    <!-- âœ… TAB: Clubkasse -->
    <div id="treasClub" class="hidden">
      <h3>ğŸ’¼ Clubkasse (Monats-Akte)</h3>

      <label class="field-label" for="treasMonth">Monat</label>
      <input id="treasMonth" type="month">

      <label class="checkline" for="treasAutoSollIst">
        <input type="checkbox" id="treasAutoSollIst" checked>
        Auto Soll/Ist aus Member-HÃ¤kchen berechnen
      </label>
      <div class="readonly-hint" id="treasAutoInfo"></div>

      <label class="field-label" for="treasBudgetPerPerson">Monatsbudget pro Person (â‚¬) (Info)</label>
      <input id="treasBudgetPerPerson" type="number" placeholder="z.B. 30" value="30">

      <h4>Einnahmen</h4>
      <div class="row">
        <input id="treasIncomeSponsor" type="number" placeholder="Sponsor â‚¬">
        <input id="treasIncomeRides" type="number" placeholder="Plus Fahrten Geld â‚¬">
      </div>
      <input id="treasIncomeOther" type="number" placeholder="Andere Einnahmen â‚¬">

      <h4>Ausgaben</h4>
      <div class="row">
        <input id="treasCostClub" type="number" placeholder="Clubkasse Ausgaben â‚¬">
        <input id="treasCostOther" type="number" placeholder="Andere Kosten (Strom etc.) â‚¬">
      </div>
      <textarea id="treasCostNote" placeholder="Notiz zu Ausgaben (Strom, Party, Miete, ...)" ></textarea>

      <h4>Clubkasse Soll / Ist</h4>
      <div class="row">
        <input id="treasCashSoll" type="number" placeholder="Soll â‚¬ (auto)">
        <input id="treasCashIst" type="number" placeholder="Ist â‚¬ (auto)">
      </div>
      <div id="treasCashDiff" class="card">Differenz: -</div>

      <div class="card">
        <h4>ğŸ“Œ Offen-Liste (Auto)</h4>
        <div id="treasOpenContribList">WÃ¤hle einen Monatâ€¦</div>
      </div>

      <textarea id="treasClubNote" placeholder="Allgemeine Notiz zum Monat"></textarea>

      <button type="button" id="saveTreasReportBtn">ğŸ’¾ Monats-Akte speichern</button>
      <button type="button" id="resetTreasReportBtn" class="gray">ğŸ§¹ Neu</button>

      <div class="readonly-hint" id="treasClubReadOnlyHint"></div>

      <h3>Akten</h3>
      <div id="treasReportList"></div>
    </div>

    <!-- âœ… TAB: Member Kasse -->
    <div id="treasMembers" class="hidden">
      <h3>ğŸ‘¤ Member Kasse (Einzel-Akten)</h3>

      <input id="treasMemberSearch" placeholder="ğŸ” Suche (Name, Rang, Notiz...)">
      <button type="button" id="treasAddMemberBtn">â• Person hinzufÃ¼gen</button>

      <div class="readonly-hint" id="treasMembersReadOnlyHint"></div>

      <div id="treasMemberList"></div>
    </div>

    <button type="button" onclick="backHome()">â¬… ZurÃ¼ck</button>
  </div>
</div>

<!-- âœ… TREASURY MEMBER MODAL -->
<div id="treasMemberModal" class="modal hidden">
  <div class="modal-card">
    <h3 id="tmTitle">ğŸ‘¤ Member-Akte</h3>

    <input id="tmName" placeholder="1) Name">
    <input id="tmRank" placeholder="2) Rang">
    <label class="field-label" for="tmJoinDate">3) Eintrittsdatum</label>
    <input id="tmJoinDate" type="date">

    <h4>4) Club Kosten</h4>
    <div class="row">
      <input id="tmClubMonthly" type="number" placeholder="Club Kasse pro Monat â‚¬ (z.B. 30)" value="30">
      <input id="tmOtherMonthly" type="number" placeholder="Andere Kosten pro Monat â‚¬ (z.B. 0)" value="0">
    </div>

    <textarea id="tmNote" placeholder="5) Notiz"></textarea>

    <h4>6) Monate (Januarâ€“Dezember)</h4>
    <div class="month-grid">
      <label><input type="checkbox" id="tm_jan">Jan</label>
      <label><input type="checkbox" id="tm_feb">Feb</label>
      <label><input type="checkbox" id="tm_mar">MÃ¤r</label>
      <label><input type="checkbox" id="tm_apr">Apr</label>
      <label><input type="checkbox" id="tm_may">Mai</label>
      <label><input type="checkbox" id="tm_jun">Jun</label>
      <label><input type="checkbox" id="tm_jul">Jul</label>
      <label><input type="checkbox" id="tm_aug">Aug</label>
      <label><input type="checkbox" id="tm_sep">Sep</label>
      <label><input type="checkbox" id="tm_oct">Okt</label>
      <label><input type="checkbox" id="tm_nov">Nov</label>
      <label><input type="checkbox" id="tm_dec">Dez</label>
    </div>

    <h4>7) StrafgebÃ¼hren</h4>
    <div class="row">
      <input id="tmFineAmount" type="number" placeholder="Betrag â‚¬">
      <input id="tmFineReason" placeholder="Notiz warum">
    </div>

    <h4>8) VerspÃ¤tung</h4>
    <input id="tmLateNote" placeholder="z.B. 3 Monate nicht gezahlt / Grund...">

    <h4>9) Allgemeine Notiz</h4>
    <textarea id="tmGeneralNote" placeholder="Alles rein: warum nicht zahlen kann, Absprachen, ..."></textarea>

    <h4>10) Soll / Ist (Zahlstatus)</h4>
    <div class="row">
      <input id="tmSollTotal" type="number" placeholder="Soll â‚¬ (z.B. 100)">
      <input id="tmIstTotal" type="number" placeholder="Ist â‚¬ (gezahlt) (z.B. 80)">
    </div>

    <div id="tmRestInfo" class="card">Offen: -</div>

    <div class="row">
      <button type="button" id="tmSaveBtn">ğŸ’¾ Speichern</button>
      <button type="button" id="tmDeleteBtn" class="danger">ğŸ—‘ï¸ LÃ¶schen</button>
      <button type="button" onclick="closeTreasuryMemberModal()" class="gray">âœ– SchlieÃŸen</button>
    </div>

    <div class="readonly-hint" id="tmReadOnlyHint"></div>
  </div>
</div>

<!-- âœ… RECHNER -->
<div class="container hidden" id="calc">
  <div class="card">
    <input id="calcDisplay" placeholder="Rechnung">
    <button id="calcBtn">Berechnen</button>
    <button id="saveCalcBtn">Speichern</button>
    <button onclick="backHome()">â¬… ZurÃ¼ck</button>
  </div>
</div>

<!-- âœ… DATEIEN -->
<div class="container hidden" id="files">
  <div class="card">
    <h3>Dateien</h3>
    <div id="filesNotes"></div>
    <div id="filesCalcs"></div>
    <button onclick="backHome()">â¬… ZurÃ¼ck</button>
  </div>
</div>

<script type="module" src="app.js?v=20260222_1"></script>

<!-- âœ… Service Worker Registrierung (PWA) -->
<script>
  const BASE = "/Bulldozer-Cottbus/";
  if ("serviceWorker" in navigator) {
    navigator.serviceWorker.register(BASE + "sw.js", { scope: BASE });
  }
</script>

</body>
</html>
